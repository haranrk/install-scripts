function git_branch () {
	branch=$(git symbolic-ref HEAD 2> /dev/null | awk 'BEGIN{FS="/"} {print $NF}')
	if [[ $branch == "" ]]; then
	:
	else
		echo ' ('$branch')'
	fi
}

function preexec() {
  timer=${timer:-$SECONDS}
}

function precmd() {
	if [ $timer ]; then
	timer_show="$((($SECONDS - $timer)/3600))h $((($SECONDS - $timer)%3600/60))m $((($SECONDS - $timer)%60))s"
#	export RPROMPT="%F{yellow}${timer_show}%F{red}|%F{yellow}%D{%a %d.%m}%F{red}|%F{yellow}%T %{$reset_color%}"
	unset timer
fi
}

export BRANCH=$(git_branch)
ZSH_THEME="powerlevel9k/powerlevel9k"
plugins=(git zsh-syntax-highlighting vi-mode osx z web-search tmux you-should-use) 
plugins+=(zsh-autosuggestions )

PROMPT='%K{yellow}%F{000}%2~(git_branch)%F{reset}%K{reset}%F{yellow}î‚°'
alias ezsh="vi ~/.zshrc && source ~/.zshrc"
alias ezp="vi ~/.zsh_profile && source ~/.zshrc"
alias check-zsh-startup='time  zsh -i -c exit'
alias dl="conda activate dl"
setopt no_share_history
unsetopt share_history
export LANG=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8

POWERLEVEL9K_MODE='nerdfont-complete'
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(os_icon anaconda root_indicator dir vcs)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(vi_mode command_execution_time status)
POWERLEVEL9K_DIR_SHOW_WRITABLE=true
POWERLEVEL9K_SHORTEN_DIR_LENGTH=2
POWERLEVEL9K_HOME_ICON=''
POWERLEVEL9K_HOME_SUB_ICON=''
POWERLEVEL9K_FOLDER_ICON=''
POWERLEVEL9K_ETC_ICON=''
POWERLEVEL9K_TIME_FORMAT="%D{%H:%M}"
POWERLEVEL9K_ANACONDA_LEFT_DELIMITER=''
POWERLEVEL9K_ANACONDA_RIGHT_DELIMITER=''
dir_bg='013'
dir_fg='black'
POWERLEVEL9K_DIR_HOME_BACKGROUND=$dir_bg
POWERLEVEL9K_DIR_HOME_FOREGROUND=$dir_fg
POWERLEVEL9K_DIR_HOME_SUBFOLDER_BACKGROUND=$dir_bg
POWERLEVEL9K_DIR_HOME_SUBFOLDER_FOREGROUND=$dir_fg
POWERLEVEL9K_DIR_DEFAULT_BACKGROUND='yellow'
POWERLEVEL9K_DIR_DEFAULT_FOREGROUND='black'

#TODO 
#tmux,  autojump, vscode
source $ZSH/oh-my-zsh.sh
